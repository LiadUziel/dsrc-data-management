<div class="page-wrapper">
  <h1>Seed research funding</h1>

  <form class="form" [formGroup]="seedForm" (ngSubmit)="onSubmit()">
    <app-parent-form [form]="seedForm"></app-parent-form>

    <div class="field">
      <p-fileUpload
        formControlName="uploadResearchIntro"
        #fileUpload
        name="file"
        [maxFileSize]="1000000"
        chooseLabel="Upload Research Introduction"
        [showCancelButton]="false"
        [customUpload]="true"
        (uploadHandler)="onUpload($event, 'uploadResearchIntro')"
      >
      </p-fileUpload>
      <i
        class="pi pi-question-circle"
        pTooltip="introduction including the importance of the proposed topic"
      ></i>
    </div>

    <div class="field">
      <p-fileUpload
        formControlName="uploadInnovationProject"
        #fileUpload
        name="file"
        [maxFileSize]="1000000"
        chooseLabel="Upload Innovation Project"
        [showCancelButton]="false"
        [customUpload]="true"
        (uploadHandler)="onUpload($event, 'uploadInnovationProject')"
      >
      </p-fileUpload>
      <i
        class="pi pi-question-circle"
        pTooltip="The innovation of the proposed project"
      ></i>
    </div>

    <div class="field">
      <p-fileUpload
        formControlName="uploadTeam"
        #fileUpload
        name="file"
        [maxFileSize]="1000000"
        chooseLabel="Upload Team"
        [showCancelButton]="false"
        [customUpload]="true"
        (uploadHandler)="onUpload($event, 'uploadTeam')"
      >
      </p-fileUpload>
      <i
        class="pi pi-question-circle"
        pTooltip="Seed money should not fund existing research but new research. Following the seed
        research, the researchers are expected to submit a proposal for external funding.
        Please specify your plans for external funding."
      ></i>
    </div>

    <div class="field">
      <p-fileUpload
        formControlName="uploadBudget"
        #fileUpload
        name="file"
        [maxFileSize]="1000000"
        chooseLabel="Upload Budget"
        [showCancelButton]="false"
        [customUpload]="true"
        (uploadHandler)="onUpload($event, 'uploadBudget')"
      >
      </p-fileUpload>
      <i
        class="pi pi-question-circle"
        pTooltip="Detailed budget request including the different expenses (e.g., purchase of a data
        set, purchase of equipment)"
      ></i>
    </div>

    <div class="field">
      <p-fileUpload
        formControlName="uploadExternalFunding"
        #fileUpload
        name="file"
        [maxFileSize]="1000000"
        chooseLabel="Upload External Funding"
        [showCancelButton]="false"
        [customUpload]="true"
        (uploadHandler)="onUpload($event, 'uploadExternalFunding')"
      >
      </p-fileUpload>
      <i
        class="pi pi-question-circle"
        pTooltip="Seed money should not fund existing research but new research. Following the seed
        research, the researchers are expected to submit a proposal for external funding.
        Please specify your plans for external funding."
      ></i>
      change
    </div>

    <app-multi-field
      [form]="seedForm"
      [formArrayName]="'budgetParts'"
      [displayAction]="'Budget Part'"
    ></app-multi-field>

    <button
      pButton
      type="submit"
      class="p-button-primary"
      [disabled]="!seedForm.valid"
      [loading]="loading"
    >
      Submit
    </button>
  </form>
</div>
